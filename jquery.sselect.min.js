/*!
Sselect.
Version: 1.2 (20.08.2012)
https://github.com/trolev/sslect/
*/
jQuery.fn.sselect=function(a){var c=jQuery.extend({create:function(){},select:function(){}},a);this.each(function(){var b=$(this);if(!b.is("select")&&(b=$("select",this),!b.length)){alert("error sselect");return}b.next(".sselect").length||create(b);var a=b.next(".sselect"),h=$(".sselect-text",a),g=$(".txt",a),d=$(".sselect-list",a),e="";$("optgroup",b).length?$("optgroup",b).each(function(){var b=$(this),a=b.attr("label")?b.attr("label"):"";e+='<span class="sselect-label">'+a+"</span>";e+=createUl(b)}): e+=createUl(b);d.html(e);$("li:first",a).addClass("first");$("li:last",a).addClass("last");c.create($(":selected",b),d);h.unbind("click.sselect").bind("click.sselect",function(){a.toggleClass("sselect-open");$(".sselect-open").not(a).removeClass("sselect-open");return!1});fun_selected(b,g,d);b.unbind("change.sselect").bind("change.sselect",function(){fun_selected(b,g,d);c.select($(":selected",b),d)});$("a",d).unbind("click.sselect").bind("click.sselect",function(a){a=$("a",d).index($(a.target));$("option", b).eq(a).prop("selected","selected");b.change();return!1});b.hide()})};function create(a){a.after('<div class="sselect"><div class="sselect-text"><span class="txt"></span><i class="icon"></i></div><div class="sselect-list"></div></div>')}function createUl(a){var c="<ul class='sselect-ul'>";$("option",a).each(function(){var a=$(this).text();c+="<li><a href='#'>"+a+"</a></li>"});return c+="</ul>"} function fun_selected(a,c,b){var f=$(":selected",a);a=$("option",a).index(f);c.html(f.text());$(".selected",b).removeClass("selected");$("li",b).eq(a).addClass("selected");$(".sselect-open").removeClass("sselect-open")}$(document).unbind().bind("click",function(a){$(a.target).closest(".sselect").length||$(".sselect-open").removeClass("sselect-open")});
